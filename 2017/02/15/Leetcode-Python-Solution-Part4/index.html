<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Leetcode,Python,算法," />





  <link rel="alternate" href="/atom.xml" title="Giraffe.ME" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="接上篇。
过完年，终于可以继续愉快地更新了。越到后面的题，越发感觉到了对于算法效率的要求，好几道题都出现了 Time Limit Exceeded，导致没能通过测试。有的用到了之前用过的双指针，有的用到了 ASCII 码，或者 XOR 操作，这些都是没见过的，可以为以后的解题提供一些思路。
Pascal’s Triangle (#118)Given numRows, generate the fi">
<meta property="og:type" content="article">
<meta property="og:title" content="Leetcode 题解 in Python (4)">
<meta property="og:url" content="http://hijacking.cn/2017/02/15/Leetcode-Python-Solution-Part4/index.html">
<meta property="og:site_name" content="Giraffe.ME">
<meta property="og:description" content="接上篇。
过完年，终于可以继续愉快地更新了。越到后面的题，越发感觉到了对于算法效率的要求，好几道题都出现了 Time Limit Exceeded，导致没能通过测试。有的用到了之前用过的双指针，有的用到了 ASCII 码，或者 XOR 操作，这些都是没见过的，可以为以后的解题提供一些思路。
Pascal’s Triangle (#118)Given numRows, generate the fi">
<meta property="og:image" content="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20170215/145437927.png">
<meta property="og:image" content="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20170215/150138621.png">
<meta property="og:image" content="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20161214/101015213.png">
<meta property="og:updated_time" content="2017-02-15T07:03:32.232Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leetcode 题解 in Python (4)">
<meta name="twitter:description" content="接上篇。
过完年，终于可以继续愉快地更新了。越到后面的题，越发感觉到了对于算法效率的要求，好几道题都出现了 Time Limit Exceeded，导致没能通过测试。有的用到了之前用过的双指针，有的用到了 ASCII 码，或者 XOR 操作，这些都是没见过的，可以为以后的解题提供一些思路。
Pascal’s Triangle (#118)Given numRows, generate the fi">
<meta name="twitter:image" content="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20170215/145437927.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6360980307578979000',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://hijacking.cn/2017/02/15/Leetcode-Python-Solution-Part4/"/>





  <title> Leetcode 题解 in Python (4) | Giraffe.ME </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?df211222742fcaeae537201dddb59d31";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Giraffe.ME</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ss">
          <a href="/ss" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-paper-plane"></i> <br />
            
            扶墙
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://hijacking.cn/2017/02/15/Leetcode-Python-Solution-Part4/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Jiawei LU">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20161207/000018373.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Giraffe.ME">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Giraffe.ME" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Leetcode 题解 in Python (4)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T10:29:12+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/15/Leetcode-Python-Solution-Part4/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/15/Leetcode-Python-Solution-Part4/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2017/02/15/Leetcode-Python-Solution-Part4/" class="leancloud_visitors" data-flag-title="Leetcode 题解 in Python (4)">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>接<a href="http://hijacking.cn/2017/01/21/Leetcode-Python-Solution-Part3/">上篇</a>。</p>
<p>过完年，终于可以继续愉快地更新了。越到后面的题，越发感觉到了对于算法效率的要求，好几道题都出现了 <strong>Time Limit Exceeded</strong>，导致没能通过测试。有的用到了之前用过的双指针，有的用到了 ASCII 码，或者 <code>XOR</code> 操作，这些都是没见过的，可以为以后的解题提供一些思路。</p>
<h3 id="Pascal’s-Triangle-118"><a href="#Pascal’s-Triangle-118" class="headerlink" title="Pascal’s Triangle (#118)"></a>Pascal’s Triangle (#118)</h3><p>Given numRows, generate the first numRows of Pascal’s triangle.<br>For example, given numRows = 5,<br>Return<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">     [1],</div><div class="line">    [1,1],</div><div class="line">   [1,2,1],</div><div class="line">  [1,3,3,1],</div><div class="line"> [1,4,6,4,1]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<ul>
<li>首先将第一行特殊处理，只有一个元素1；从第二行开始，先设定默认值 <code>[1,1]</code>，作为首尾的值，然后在中间不停插入上一行对应元素相加的和为新的元素，直到这一行 <code>list</code> 的长度与行号相同：33.26%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(self, numRows)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type numRows: int</div><div class="line">    :rtype: List[List[int]]</div><div class="line">    """</div><div class="line">    returnList = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(numRows):</div><div class="line">        <span class="keyword">if</span> i == <span class="number">0</span>: </div><div class="line">            returnList.append([<span class="number">1</span>])</div><div class="line">            <span class="keyword">continue</span></div><div class="line">        l = [<span class="number">1</span>, <span class="number">1</span>]</div><div class="line">        lastl = returnList[<span class="number">-1</span>]</div><div class="line">        flag = <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> len(l) &lt;= i:</div><div class="line">            l.insert(flag, lastl[flag<span class="number">-1</span>] + lastl[flag])</div><div class="line">            flag += <span class="number">1</span></div><div class="line">        returnList.append(l)</div><div class="line">    <span class="keyword">return</span> returnList</div></pre></td></tr></table></figure>
<ul>
<li>任何一行的数值可以通过前一行和前一行的偏移来构建出来，如下所示：60.57%</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">   1 3 3 1 0 </div><div class="line">+  0 1 3 3 1</div><div class="line">=  1 4 6 4 1</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(self, numRows)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type numRows: int</div><div class="line">    :rtype: List[List[int]]</div><div class="line">    """</div><div class="line">    res = [[<span class="number">1</span>]]</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, numRows):</div><div class="line">	    <span class="comment"># Python 2</span></div><div class="line">        res += [map(<span class="keyword">lambda</span> x, y: x+y, res[<span class="number">-1</span>] + [<span class="number">0</span>], [<span class="number">0</span>] + res[<span class="number">-1</span>])]</div><div class="line">    <span class="keyword">return</span> res[:numRows]</div><div class="line"></div><div class="line"><span class="comment"># Python 3</span></div><div class="line">    res.append(list(map(<span class="keyword">lambda</span> x, y: x+y, res[<span class="number">-1</span>] + [<span class="number">0</span>], [<span class="number">0</span>] + res[<span class="number">-1</span>])))</div></pre></td></tr></table></figure>
<h3 id="Pascal’s-Triangle-II-119"><a href="#Pascal’s-Triangle-II-119" class="headerlink" title="Pascal’s Triangle II (#119)"></a>Pascal’s Triangle II (#119)</h3><p>Given an index k, return the kth row of the Pascal’s triangle.<br>For example, given <code>k = 3</code>,<br>Return <code>[1,3,3,1]</code>.</p>
<blockquote>
<p><strong>NOTE</strong><br>Could you optimize your algorithm to use only O(k) extra space?</p>
</blockquote>
<ul>
<li>与 #118 题类似：22.83% </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRow</span><span class="params">(self, rowIndex)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type rowIndex: int</div><div class="line">    :rtype: List[int]</div><div class="line">    """</div><div class="line">    last= new = [<span class="number">1</span>]</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(rowIndex):</div><div class="line">        new = list(map(<span class="keyword">lambda</span> x,y:x+y, last + [<span class="number">0</span>], [<span class="number">0</span>] + last))</div><div class="line">        last = new</div><div class="line">    <span class="keyword">return</span> new</div></pre></td></tr></table></figure>
<ul>
<li>相比于上面使用 <code>map</code>，速度快30%：75.30%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRow</span><span class="params">(self, rowIndex)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type rowIndex: int</div><div class="line">    :rtype: List[int]</div><div class="line">    """</div><div class="line">    row = [<span class="number">1</span>]</div><div class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(rowIndex):</div><div class="line">        row = [x + y <span class="keyword">for</span> x, y <span class="keyword">in</span> zip([<span class="number">0</span>]+row, row+[<span class="number">0</span>])]</div><div class="line">    <span class="keyword">return</span> row</div></pre></td></tr></table></figure>
<h3 id="Best-Time-to-Buy-and-Sell-Stock-121"><a href="#Best-Time-to-Buy-and-Sell-Stock-121" class="headerlink" title="Best Time to Buy and Sell Stock (#121)"></a>Best Time to Buy and Sell Stock (#121)</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: [7, 1, 5, 3, 6, 4]</div><div class="line">Output: 5</div><div class="line"></div><div class="line">max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: [7, 6, 4, 3, 1]</div><div class="line">Output: 0</div><div class="line"></div><div class="line">In this case, no transaction is done, i.e. max profit = 0.</div></pre></td></tr></table></figure></p>
<ul>
<li>循环列表中的每一个数，计算它与前面所有数的差值：无法通过测试，在处理大量数据的时候很慢</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type prices: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    maxp = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(prices)):</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, i):</div><div class="line">            profit = prices[i] - prices[j]</div><div class="line">            <span class="keyword">if</span> profit &gt; maxp:</div><div class="line">                maxp = profit</div><div class="line">    <span class="keyword">return</span> maxp</div></pre></td></tr></table></figure>
<ul>
<li>通过两个变量 <code>maxSoFar</code> 来记录当前的最大值，<code>maxCur</code> 来记录当新的一个数读进来之后，当前的最大值：27.37%</li>
</ul>
<p><em>MARK：巧妙解题思路</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type prices: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    maxCur = maxSoFar = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(prices)):</div><div class="line">        maxCur = max(<span class="number">0</span>, maxCur + prices[i] - prices[i<span class="number">-1</span>])</div><div class="line">        maxSoFar = max(maxCur, maxSoFar)</div><div class="line">    <span class="keyword">return</span> maxSoFar</div></pre></td></tr></table></figure></p>
<ul>
<li>画出变化折线图可以看出，主要是寻找波峰和波谷：55.96%<br><img src="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20170215/145437927.png" alt="变化折线图" title="变化折线图"></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type prices: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    maxprofit = <span class="number">0</span></div><div class="line">    minPrice = float(<span class="string">'inf'</span>)</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(prices)):</div><div class="line">        <span class="keyword">if</span> prices[i] &lt; minPrice:</div><div class="line">            minPrice = prices[i]</div><div class="line">        <span class="keyword">elif</span> prices[i] - minPrice &gt; maxprofit:</div><div class="line">            maxprofit = prices[i] - minPrice</div><div class="line">    <span class="keyword">return</span> maxprofit</div></pre></td></tr></table></figure>
<h3 id="Best-Time-to-Buy-and-Sell-Stock-II-122"><a href="#Best-Time-to-Buy-and-Sell-Stock-II-122" class="headerlink" title="Best Time to Buy and Sell Stock II (#122)"></a>Best Time to Buy and Sell Stock II (#122)</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
<ul>
<li>后一天的值比前一天大，就将差值加入到总的利润中去（相当于卖出）；后一填比前一天小就更新最小值（相当于买入）：74.33%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type prices: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    total_profit = <span class="number">0</span></div><div class="line">    minPrice = float(<span class="string">'inf'</span>)</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(prices)):</div><div class="line">        <span class="keyword">if</span> prices[i] &gt; minPrice:</div><div class="line">            total_profit += prices[i] - minPrice</div><div class="line">        minPrice = prices[i]</div><div class="line">    <span class="keyword">return</span> total_profit</div></pre></td></tr></table></figure>
<ul>
<li>上面的算法等于下面的算法：33.30%<br><img src="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20170215/150138621.png" alt="最大利润" title="最大利润"></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type prices: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    <span class="keyword">return</span> sum(max(prices[i + <span class="number">1</span>] - prices[i], <span class="number">0</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(prices) - <span class="number">1</span>))</div></pre></td></tr></table></figure>
<h3 id="Valid-Palindrome-125"><a href="#Valid-Palindrome-125" class="headerlink" title="Valid Palindrome (#125)"></a>Valid Palindrome (#125)</h3><p>Given a string, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases.<br>For example,<br><code>&quot;A man, a plan, a canal: Panama&quot;</code> is a palindrome.<br><code>&quot;race a car&quot;</code> is not a palindrome.</p>
<blockquote>
<p><strong>NOTE</strong><br>Have you consider that the string might be empty? This is a good question to ask during an interview.<br>For the purpose of this problem, we define empty string as valid palindrome.</p>
</blockquote>
<ul>
<li>先用一个 <code>list</code> 来存储字符串中的所有字母和数字，然后验证该 <code>list</code> 中的所有字符是否是回文字符：19.07%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span><span class="params">(self, s)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type s: str</div><div class="line">    :rtype: bool</div><div class="line">    """</div><div class="line">    l = []</div><div class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</div><div class="line">        <span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> <span class="keyword">and</span> c &lt;= <span class="string">'z'</span>) <span class="keyword">or</span> (c &gt;= <span class="string">'0'</span> <span class="keyword">and</span> c &lt;= <span class="string">'9'</span>):</div><div class="line">            l.append(c)</div><div class="line">        <span class="keyword">elif</span> c &gt;= <span class="string">'A'</span> <span class="keyword">and</span> c &lt;= <span class="string">'Z'</span>:</div><div class="line">            l.append(c.lower())</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range((len(l)+<span class="number">1</span>)//<span class="number">2</span>):</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l[i] == l[len(l)<span class="number">-1</span>-i]:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">True</span></div></pre></td></tr></table></figure>
<ul>
<li>两个标记 <code>l</code>、<code>r</code>，分别指向需要验证的两个字符，<code>l</code> 从前往后找为下一个是数字或字母的字符， <code>r</code> 从后往前找下一个是数字或字母的字符：16.60% </li>
</ul>
<p><em>MARK：<code>isalnum()</code> 方法检测是否由字母和数字组成</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span><span class="params">(self, s)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type s: str</div><div class="line">    :rtype: bool</div><div class="line">    """</div><div class="line">    l, r = <span class="number">0</span>, len(s)<span class="number">-1</span></div><div class="line">    <span class="keyword">while</span> l &lt; r:</div><div class="line">        <span class="keyword">while</span> l &lt; r <span class="keyword">and</span> <span class="keyword">not</span> s[l].isalnum():</div><div class="line">            l += <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> l &lt;r <span class="keyword">and</span> <span class="keyword">not</span> s[r].isalnum():</div><div class="line">            r -= <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> s[l].lower() != s[r].lower():</div><div class="line">            <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">        l +=<span class="number">1</span>; r -= <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">True</span></div></pre></td></tr></table></figure></p>
<h3 id="Single-Number-136"><a href="#Single-Number-136" class="headerlink" title="Single Number (#136)"></a>Single Number (#136)</h3><p>Given an array of integers, every element appears twice except for one. Find that single one.</p>
<blockquote>
<p><strong>NOTE</strong><br>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p>
</blockquote>
<ul>
<li>不停 <code>pop</code> 出 <code>list</code> 中最后一个元素，然后在剩下的 <code>list</code> 中找到与这个元素相等的元素，然后从 <code>list</code> 中移除，如果找不到则返回这个数值：无法通过测试，效率太低</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type nums: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    <span class="keyword">while</span> nums:</div><div class="line">        c = nums.pop()</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> c <span class="keyword">in</span> nums:</div><div class="line">            <span class="keyword">return</span> c</div><div class="line">        nums.remove(c)</div></pre></td></tr></table></figure>
<ul>
<li>利用字典来存储每个字符出现的次数，遍历一次 <code>list</code> 即可统计出来，然后返回 <code>key</code> 对应 <code>value</code> 为 1 的那个 <code>key</code>：14.15%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type nums: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    d = &#123;&#125;</div><div class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> nums:</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> c <span class="keyword">in</span> d:</div><div class="line">            d[c] = <span class="number">1</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            d[c] += <span class="number">1</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> d.keys():</div><div class="line">        <span class="keyword">if</span> d[i] == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> i</div></pre></td></tr></table></figure>
<ul>
<li>利用 <code>XOR</code> 操作提高算法效率：67.34%</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">0 ^ N = N</div><div class="line">N ^ N = 0</div><div class="line"></div><div class="line">N1 ^ N1 ^ N2 ^ N2 ^ …… ^ Nx ^ Nx ^ N</div><div class="line">= (N1^N1) ^ (N2^N2) ^ …… ^ (Nx^Nx) ^ N</div><div class="line">= 0 ^ 0 ^ …… ^ 0 ^ N</div><div class="line">= N</div></pre></td></tr></table></figure>
<p><em>MARK：<code>XOR</code> 操作</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type nums: List[int]</div><div class="line">    :rtype: int</div><div class="line">    """</div><div class="line">    result = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</div><div class="line">        result ^= nums[i]</div><div class="line">    <span class="keyword">return</span> result</div></pre></td></tr></table></figure></p>
<h3 id="Linked-List-Cycle-141"><a href="#Linked-List-Cycle-141" class="headerlink" title="Linked List Cycle (#141)"></a>Linked List Cycle (#141)</h3><p>Given a linked list, determine if it has a cycle in it.<br>Follow up:<br>Can you solve it without using extra space?</p>
<ul>
<li>将链表从头开始每个节点加入一个 <code>list</code> 中，然后寻找下一个节点，如果该节点已经存在于列表中，那么说明存在环：无法通过测试，效率太低</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span><span class="params">(self, head)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type head: ListNode</div><div class="line">    :rtype: bool</div><div class="line">    """</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head: <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">    flag, l = head, []</div><div class="line">    l.append(flag)</div><div class="line">    <span class="keyword">while</span> flag.next:</div><div class="line">        <span class="keyword">if</span> flag.next <span class="keyword">in</span> l:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            l.append(flag.next)</div><div class="line">            flag = flag.next</div><div class="line">    <span class="keyword">return</span> <span class="keyword">False</span></div></pre></td></tr></table></figure>
<ul>
<li>利用两个指针 <code>slow</code> 和 <code>fast</code>，<code>slow</code> 每次循环往前走一个，<code>fast</code> 每次循环往前走两个，如果该节点列表中存在环，那么总有一步两个指针会相遇：95.85%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span><span class="params">(self, head)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type head: ListNode</div><div class="line">    :rtype: bool</div><div class="line">    """</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        slow = head</div><div class="line">        fast = head.next</div><div class="line">        <span class="keyword">while</span> slow <span class="keyword">is</span> <span class="keyword">not</span> fast:</div><div class="line">            slow = slow.next</div><div class="line">            fast = fast.next.next</div><div class="line">        <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">return</span> <span class="keyword">False</span></div></pre></td></tr></table></figure>
<h3 id="Min-Stack-155"><a href="#Min-Stack-155" class="headerlink" title="Min Stack (#155)"></a>Min Stack (#155)</h3><p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.</p>
<ul>
<li>push(x) – Push element x onto stack.</li>
<li>pop() – Removes the element on top of the stack.</li>
<li>top() – Get the top element.</li>
<li>getMin() – Retrieve the minimum element in the stack.</li>
</ul>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">MinStack minStack = new MinStack();</div><div class="line">minStack.push(-2);</div><div class="line">minStack.push(0);</div><div class="line">minStack.push(-3);</div><div class="line">minStack.getMin();   --&gt; Returns -3.</div><div class="line">minStack.pop();</div><div class="line">minStack.top();      --&gt; Returns 0.</div><div class="line">minStack.getMin();   --&gt; Returns -2.</div></pre></td></tr></table></figure></p>
<ul>
<li>利用 <code>list</code> 进行存储与操作：无法通过测试，效率太低</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        initialize your data structure here.</div><div class="line">        """</div><div class="line">        self.values = []</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, x)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type x: int</div><div class="line">        :rtype: void</div><div class="line">        """</div><div class="line">        self.values.append(x)</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :rtype: void</div><div class="line">        """</div><div class="line">        <span class="keyword">return</span> self.values.pop()</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">return</span> self.values[<span class="number">-1</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMin</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">return</span> min(self.values)</div></pre></td></tr></table></figure>
<ul>
<li>上面存在问题，当计算最小值时，利用 <code>min</code> 函数的效率太低，因此，当新 <code>push</code> 进一个数的时候，应该同时储存此时所有元素最小的元素值是多少（或者利用一个变量存储此时的）：42.46%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        initialize your data structure here.</div><div class="line">        """</div><div class="line">        self.values = []</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, x)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type x: int</div><div class="line">        :rtype: void</div><div class="line">        """</div><div class="line">        curMin = self.getMin()</div><div class="line">        <span class="keyword">if</span> curMin == <span class="keyword">None</span> <span class="keyword">or</span> x &lt; curMin:</div><div class="line">            curMin = x</div><div class="line">        self.q.append((x, curMin));</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :rtype: void</div><div class="line">        """</div><div class="line">        <span class="keyword">return</span> self.values.pop()</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(self.q) == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> self.q[len(self.q) - <span class="number">1</span>][<span class="number">0</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMin</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(self.q) == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> self.q[len(self.q) - <span class="number">1</span>][<span class="number">1</span>]</div></pre></td></tr></table></figure>
<h3 id="Two-Sum-II-Input-array-is-sorted-167"><a href="#Two-Sum-II-Input-array-is-sorted-167" class="headerlink" title="Two Sum II - Input array is sorted (#167)"></a>Two Sum II - Input array is sorted (#167)</h3><p>Given an array of integers that is already sorted in ascending order, find two numbers such that they add up to a specific target number.<br>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.<br>You may assume that each input would have exactly one solution and you may not use the same element twice.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Input: numbers=&#123;2, 7, 11, 15&#125;, target=9</div><div class="line">Output: index1=1, index2=2</div></pre></td></tr></table></figure></p>
<ul>
<li>处理有很多值重复的情况，不然运行会超时，效率过低。分两种情况处理：1）如果应该分解成两个一样的值，那么判断后一个是否等于当前的值；2）如果不应该分解成两个一样的值，那么跳过所有相同的值，不再在这个值的时候遍历寻找另一个值：27.92%</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">twoSum</span><span class="params">(self, numbers, target)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type numbers: List[int]</div><div class="line">    :type target: int</div><div class="line">    :rtype: List[int]</div><div class="line">    """</div><div class="line">    last = numbers[<span class="number">-1</span>]</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(numbers)):</div><div class="line">        d1 = numbers[i]</div><div class="line">        <span class="keyword">if</span> d1 != target - d1:</div><div class="line">            <span class="keyword">if</span> d1 == last:</div><div class="line">                last = d1</div><div class="line">                <span class="keyword">continue</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">if</span> numbers[i+<span class="number">1</span>] == d1:</div><div class="line">                <span class="keyword">return</span> [i+<span class="number">1</span>,i+<span class="number">2</span>]</div><div class="line">        <span class="keyword">for</span> ii <span class="keyword">in</span> range(i+<span class="number">1</span>, len(numbers)):</div><div class="line">            d2 = numbers[ii]</div><div class="line">            <span class="keyword">if</span> d2 == target - d1:</div><div class="line">                <span class="keyword">return</span> [i+<span class="number">1</span>, ii+<span class="number">1</span>]</div><div class="line">            <span class="keyword">if</span> d2 &gt; target - d1:</div><div class="line">                <span class="keyword">break</span></div><div class="line">        last = d1</div></pre></td></tr></table></figure>
<ul>
<li>利用双指针，当和大于目标值时，大指针向前挪动；当和小于目标值时，小指针向后挪动：70.18% </li>
</ul>
<p><em>MARK：双指针</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">twoSum</span><span class="params">(self, numbers, target)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type numbers: List[int]</div><div class="line">    :type target: int</div><div class="line">    :rtype: List[int]</div><div class="line">    """</div><div class="line">    l, r = <span class="number">0</span>, len(numbers)<span class="number">-1</span></div><div class="line">    <span class="keyword">while</span> l &lt; r:</div><div class="line">        s = numbers[l] + numbers[r]</div><div class="line">        <span class="keyword">if</span> s == target:</div><div class="line">            <span class="keyword">return</span> [l+<span class="number">1</span>, r+<span class="number">1</span>]</div><div class="line">        <span class="keyword">elif</span> s &lt; target:</div><div class="line">            l += <span class="number">1</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            r -= <span class="number">1</span></div></pre></td></tr></table></figure></p>
<h3 id="Excel-Sheet-Column-Title-168"><a href="#Excel-Sheet-Column-Title-168" class="headerlink" title="Excel Sheet Column Title (#168)"></a>Excel Sheet Column Title (#168)</h3><p>Given a positive integer, return its corresponding column title as appear in an Excel sheet.<br>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">1 -&gt; A</div><div class="line">2 -&gt; B</div><div class="line">3 -&gt; C</div><div class="line">...</div><div class="line">26 -&gt; Z</div><div class="line">27 -&gt; AA</div><div class="line">28 -&gt; AB</div></pre></td></tr></table></figure></p>
<ul>
<li>通过递归求解，首先生成一个 <code>list</code>用来储存 1-26 数字对应的字母，然后不停除以 26 求整数商以及余数，于是问题变成求这个商对应的字母加上余数对应的字母：80.54%</li>
</ul>
<p><em>MARK：ASCII 码</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">convertToTitle</span><span class="params">(self, n)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type n: int</div><div class="line">    :rtype: str</div><div class="line">    """</div><div class="line">    l = []</div><div class="line">    <span class="keyword">for</span> asciiNum <span class="keyword">in</span> range(<span class="number">65</span>, <span class="number">91</span>):</div><div class="line">        l.append(chr(asciiNum))</div><div class="line">    <span class="keyword">return</span> self.getOne(n,l)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getOne</span><span class="params">(self, n, l)</span>:</span></div><div class="line">    quotient = (n<span class="number">-1</span>) // <span class="number">26</span></div><div class="line">    remainder = n % <span class="number">26</span></div><div class="line">    <span class="keyword">if</span> quotient:</div><div class="line">        <span class="keyword">return</span> self.getOne(quotient, l) + l[remainder<span class="number">-1</span>]</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">return</span> l[remainder<span class="number">-1</span>]</div></pre></td></tr></table></figure></p>
<ul>
<li>上面的函数可以简写成下面的形式：15.24%</li>
</ul>
<p><em>MARK：ASCII 码</em><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">convertToTitle</span><span class="params">(self, n)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type n: int</div><div class="line">    :rtype: str</div><div class="line">    """</div><div class="line">    <span class="keyword">return</span> <span class="string">""</span> <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">else</span> self.convertToTitle((n - <span class="number">1</span>) // <span class="number">26</span>) + chr((n - <span class="number">1</span>) % <span class="number">26</span> + ord(<span class="string">'A'</span>))</div></pre></td></tr></table></figure></p>
<p>未完，接<a href="http://hijacking.cn/">下篇</a>。</p>
<hr>
<p><div><br><img src="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20161214/101015213.png" alt="CC4.0" align="left"><br></div><br><em>本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external">CC4.0</a>协议授权，转载请注明出处：<a href="http://hijacking.cn/2017/02/15/Leetcode-Python-Solution-Part4/">http://hijacking.cn/2017/02/15/Leetcode-Python-Solution-Part4/</a>，其他请联系<a href="mailto:me@jiaweilu.com?subject=【hijacking.cn】" target="_blank" rel="external">Jiawei LU</a></em></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div></div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20161206/211739895.jpg" alt="Jiawei LU WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Leetcode/" rel="tag"># Leetcode</a>
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/21/Leetcode-Python-Solution-Part3/" rel="next" title="Leetcode 题解 in Python (3)">
                <i class="fa fa-chevron-left"></i> Leetcode 题解 in Python (3)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/02/15/Leetcode-Python-Solution-Part4/"
           data-title="Leetcode 题解 in Python (4)" data-url="http://hijacking.cn/2017/02/15/Leetcode-Python-Solution-Part4/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xvvfk.com1.z0.glb.clouddn.com/blog/20161207/000018373.jpg"
               alt="Jiawei LU" />
          <p class="site-author-name" itemprop="name">Jiawei LU</p>
          <p class="site-description motion-element" itemprop="description">Writing and Sharing</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>


        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="mailto://me@jiaweilu.com?subject=【hijacking.cn】" target="_blank" title="e-mail">
                  
                    <i class="fa fa-fw fa-terminal"></i>
                  
                  e-mail
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/EA7ARO" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/findlujiawei" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pascal’s-Triangle-118"><span class="nav-number">1.</span> <span class="nav-text">Pascal’s Triangle (#118)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pascal’s-Triangle-II-119"><span class="nav-number">2.</span> <span class="nav-text">Pascal’s Triangle II (#119)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Best-Time-to-Buy-and-Sell-Stock-121"><span class="nav-number">3.</span> <span class="nav-text">Best Time to Buy and Sell Stock (#121)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Best-Time-to-Buy-and-Sell-Stock-II-122"><span class="nav-number">4.</span> <span class="nav-text">Best Time to Buy and Sell Stock II (#122)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Valid-Palindrome-125"><span class="nav-number">5.</span> <span class="nav-text">Valid Palindrome (#125)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Single-Number-136"><span class="nav-number">6.</span> <span class="nav-text">Single Number (#136)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linked-List-Cycle-141"><span class="nav-number">7.</span> <span class="nav-text">Linked List Cycle (#141)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Min-Stack-155"><span class="nav-number">8.</span> <span class="nav-text">Min Stack (#155)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Two-Sum-II-Input-array-is-sorted-167"><span class="nav-number">9.</span> <span class="nav-text">Two Sum II - Input array is sorted (#167)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Excel-Sheet-Column-Title-168"><span class="nav-number">10.</span> <span class="nav-text">Excel Sheet Column Title (#168)</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jiawei LU</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

<br/>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
网站共被点击 <span id="busuanzi_value_site_pv"></span> 次 &nbsp&nbsp&nbsp
你是第 <span id="busuanzi_value_site_uv"></span> 位访问的小伙伴



        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"hijacking"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("I9SskD41kNQzE63mBwiBXsHj-gzGzoHsz", "XyYhL9GuwYxoH5z7l9rwYXKE");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>
</html>
